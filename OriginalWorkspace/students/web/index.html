<!DOCTYPE html>
<html>

<head>
    <title>Christopher Mansfield's Angular Project</title>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="img/UVU-Green-Solid2.png">

    <link rel="stylesheet" type="text/css" href="myStyle.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="lib/bootstrap-3.3.6.min.css">

    <!-- Angular CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
</head>

<body>
    <div ng-app="app" ng-controller="ctrl">

        <!-- Add Modal -->
        <div class="modal fade in" aria-hidden="false" style="display: block;" ng-show="showAddModal">
            <div class="modal-dialog modal-md">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Add Student</h4>
                    </div>
                    <div class="modal-body">

                        <!-- Textbox for first and last name -->
                        <form class="form-inline row">
                            <div class="form-group col-md-10">
                                <div class="col-md-5">
                                    <label class="">First Name</label>
                                    <input type="text" class="form-control" aria-describedby="nameHelp" placeholder="Enter Name" ng-model="crntStudent.fname">
                                </div>
                                <div class="col-md-5">
                                    <label class="">Last Name</label>
                                    <input type="text" class="form-control" aria-describedby="nameHelp" placeholder="Enter Name" ng-model="crntStudent.lname">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- form for the start date and Phone number -->
                        <form class="form-inline row">
                            <div class="form-group col-md-10">
                                <div class="col-md-5">
                                    <label class="">Start Date</label>
                                    <input class="form-control" placeholder="mm/dd/yy" ng-model="crntStudent.startDate">
                                </div>
                                <div class="col-md-5">
                                    <label class="">Telephone</label>
                                    <input class="form-control" placeholder="(555)555-5555" ng-model="crntStudent.phone">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- form for the street address -->
                        <form class="row">
                            <div class="form-group col-md-8">
                                <div class="col-sm-8">
                                    <label>Address</label>
                                    <input type="text" class="form-control" placeholder="Enter Street" ng-model="crntStudent.street">
                                </div>
                            </div>
                        </form>

                        <!-- form for city, state, and zip -->
                        <form class="form-inline row">
                            <div class="form-group col-md-12">
                                <div class="col-sm-4">
                                    <label>City</label>
                                    <input class="form-control" type="text" placeholder="Enter City" ng-model="crntStudent.city">
                                </div>
                                <div class="col-sm-4">
                                    <label>State</label>
                                    <input class="form-control" type="text" placeholder="Enter State" ng-model="crntStudent.state">
                                </div>
                                <div class="col-sm-3">
                                    <label>Zip</label>
                                    <input class="form-control" type="text" placeholder="Enter Zip" ng-model="crntStudent.zip">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- Dropdown select for year -->
                        <form class="row">
                            <div class="form-group col-md-8">
                                <label for="selectYearInputAdd">Student Year</label>
                                <select class="form-control" id="selectYearInputAdd">
                                    <option ng-repeat="x in studentYearEnum">{{x}}</option>
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="confirmAdd()">Confirm</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="showAddModal = false">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Add Modal -->

        <!-- Edit Modal -->
        <div class="modal fade in" aria-hidden="false" style="display: block;" ng-show="showEditModal">
            <div class="modal-dialog modal-md">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Edit Student</h4>
                    </div>
                    <div class="modal-body">

                        <!-- Textbox for first and last name -->
                        <form class="form-inline row">
                            <div class="form-group col-md-10">
                                <div class="col-md-5">
                                    <label class="">First Name</label>
                                    <input type="text" class="form-control" aria-describedby="nameHelp" placeholder="Enter Name" ng-model="crntStudent.fname">
                                </div>
                                <div class="col-md-5">
                                    <label class="">Last Name</label>
                                    <input type="text" class="form-control" aria-describedby="nameHelp" placeholder="Enter Name" ng-model="crntStudent.lname">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- form for the start date and Phone number -->
                        <form class="form-inline row">
                            <div class="form-group col-md-10">
                                <div class="col-md-5">
                                    <label class="">Start Date</label>
                                    <input class="form-control" placeholder="mm/dd/yy" ng-model="crntStudent.startDate">
                                </div>
                                <div class="col-md-5">
                                    <label class="">Telephone</label>
                                    <input class="form-control" placeholder="(555)555-5555" ng-model="crntStudent.phone">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- form for the street address -->
                        <form class="row">
                            <div class="form-group col-md-8">
                                <div class="col-sm-8">
                                    <label>Address</label>
                                    <input type="text" class="form-control" placeholder="Enter Street" ng-model="crntStudent.street">
                                </div>
                            </div>
                        </form>

                        <!-- form for city, state, and zip -->
                        <form class="form-inline row">
                            <div class="form-group col-md-12">
                                <div class="col-sm-4">
                                    <label>City</label>
                                    <input class="form-control" type="text" placeholder="Enter City" ng-model="crntStudent.city">
                                </div>
                                <div class="col-sm-4">
                                    <label>State</label>
                                    <input class="form-control" type="text" placeholder="Enter State" ng-model="crntStudent.state">
                                </div>
                                <div class="col-sm-3">
                                    <label>Zip</label>
                                    <input class="form-control" type="text" placeholder="Enter Zip" ng-model="crntStudent.zip">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- Dropdown select for year -->
                        <form class="row">
                            <div class="form-group col-md-8">
                                <label for="selectYearInput">Student Year</label>
                                <select class="form-control" id="selectYearInput">
                                    <option ng-repeat="x in studentYearEnum">{{x}}</option>
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="confirmChanges()">Confirm</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="showEditModal = false">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Edit Modal -->

        <!-- Confirmation Modal -->
        <div class="modal fade" id="confirmationModal" role="dialog">
            <div class="modal-dialog modal-sm">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="modalTitle"></h4>
                    </div>
                    <div class="modal-body">

                        <p id="modalText">Student Data</p>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default confirmation" data-dismiss="modal">Confirm</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Modal -->

        <div class="container">
            <h2 class="jumbotron">Student Information</h2>
        </div>

        <div class="container">

            <!-- Buttons Row -->
            <div class="row">
                <div class="col-xs-4 text-left">
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Restore last deleted student" ng-click="restoreStudent()"><span class="glyphicon glyphicon-refresh"></span></button>
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Add a new student" ng-click="newStudent()"><span class="glyphicon glyphicon-plus"></span></button>
                </div>

                <div class="col-xs-4 text-center">
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Page Left" ng-click="pageChange(-1)"><span class="glyphicon glyphicon-chevron-left"></span></button>
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Page Right" ng-click="pageChange(1)"><span class="glyphicon glyphicon-chevron-right"></span></button>
                </div>

                <div class="col-xs-4 text-right">
                    <button type="button" class="btn btn-default" id="tileBtn" data-toggle="tooltip" data-placement="bottom" title="Switch to the Tile Veiw" ng-click="showTable = false" ng-disabled="!showTable">Tiles</button>
                    <button type="button" class="btn btn-default" id="tableBtn" data-toggle="tooltip" data-placement="bottom" title="Switch to the Table Veiw" ng-click="showTable = true" ng-disabled="showTable">Table</button>
                </div>
            </div>
            <br>

            <table class="table table-striped table-bordered" ng-show="showTable">
                <thead>
                    <tr>
                        <th id="{{x}}" ng-repeat="x in textEnum" ng-click="sort(x)">{{x}}</th>
                    </tr>
                </thead>
                <tbody id="tableArea">
                    <tr ng-repeat="student in students">
                        <td>{{student.fname + ' ' + student.lname}}</td>
                        <td>{{student.startDate}}</td>
                        <td>{{student.street}}</td>
                        <td>{{student.city}}</td>
                        <td>{{student.state}}</td>
                        <td>{{student.zip}}</td>
                        <td>{{student.phone}}</td>
                        <td>{{studentYearEnum[student.year - 1]}}</td>
                        <td>{{student.id}}</td>
                        <td>
                            <button type="button" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="bottom" title="Edit this student" ng-click="editStudent(student.id)"><span class="glyphicon glyphicon-pencil"></span></button>
                            <button type="button" class="btn btn-default btn-sm" data-toggle="tooltip" data-placement="bottom" title="Delete this student" ng-click="deleteStudent(student.id)"><span class="glyphicon glyphicon-trash"></span></button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <!-- Tile Template -->
            <div class="row" ng-show="!showTable">
                <div ng-repeat="student in students">
                    <div class="panel panel-default student-panels col-md-3">
                        <div class="tiled-panel-heading panel-heading text-center">
                            <h4>{{student.fname}} {{student.lname}}</h4>
                        </div>
                        <div class="panel-body">
                            <p>
                                <strong>Phone: </strong>{{student.phone}}<br>
                                <strong>Year: </strong>{{studentYearEnum[student.year - 1]}}<br>
                                <strong>Start Date: </strong>{{student.startDate}}<br>
                                <strong>Address: </strong>{{student.street}}, {{student.city}}, {{student.state}} {{student.zip}}
                            </p>
                        </div>
                    </div>      <!-- End of Panel -->
                    <!--<div class="col-md-1"></div>-->
                </div>
            </div>      <!-- End of Row -->
        </div>
    </div>

    <!-- jQuery for only Bootstrap -->
    <script src="lib/jquery-1.12.4.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="lib/bootstrap-3.3.6.min.js"></script>

    <!-- load my scripts -->
    <!--<script src="myScript.js"></script>-->
    <!--<script src="sortComparators.js"></script>-->
    <!--<script src="lib/cookie-2.1.2.js"></script>-->

    <script src="MyCtrl.js"></script>
</body>

</html>