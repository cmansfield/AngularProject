<!DOCTYPE html>
<html>

<head>
    <title>Christopher Mansfield's Angular Project</title>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="img/UVU-Green-Solid2.png">

    <link rel="stylesheet" type="text/css" href="myStyle.css">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="lib/bootstrap-3.3.6.min.css">

    <!-- Angular CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>
</head>

<body>
    <div ng-app="myApp" ng-controller="myCtrl">
        <!-- Load Modal -->
        <div class="modal fade" id="myModal" role="dialog" ng-show="isLoading">
            <div class="modal-dialog modal-md">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="modalHeader"><span ng-show="isLoading"></span></h4>
                    </div>
                    <div class="modal-body" id="modalBody">
                        <p>Loading</p>
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped active" id="modalProgress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Modal -->

        <!-- Edit Modal -->
        <div class="modal fade in" aria-hidden="false" style="display: block;" ng-show="showEditModal">
            <div class="modal-dialog modal-md">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="modalHeaderAdd">Edit Student</h4>
                    </div>
                    <div class="modal-body" id="modalBody">

                        <!-- Textbox for first and last name -->
                        <form class="form-inline row">
                            <div class="form-group col-md-10">
                                <div class="col-md-5">
                                    <label for="fNameInput" class="">First Name</label>
                                    <input type="text" class="form-control" aria-describedby="nameHelp" placeholder="Enter Name" ng-model="crntStudent.fname">
                                </div>
                                <div class="col-md-5">
                                    <label for="lNameInput" class="">Last Name</label>
                                    <input type="text" class="form-control" aria-describedby="nameHelp" placeholder="Enter Name" ng-model="crntStudent.lname">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- form for the start date and Phone number -->
                        <form class="form-inline row">
                            <div class="form-group col-md-10">
                                <div class="col-md-5">
                                    <label for="startDateInput" class="">Start Date</label>
                                    <input class="form-control" placeholder="mm/dd/yy" ng-model="crntStudent.startDate">
                                </div>
                                <div class="col-md-5">
                                    <label for="phoneInput" class="">Telephone</label>
                                    <input class="form-control" placeholder="(555)555-5555" ng-model="crntStudent.phone">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- form for the street address -->
                        <form class="row">
                            <div class="form-group col-md-8">
                                <div class="col-sm-8">
                                <label for="addressInput">Address</label>
                                <input type="text" class="form-control" placeholder="Enter Street" ng-model="crntStudent.street">
                                </div>
                            </div>
                        </form>

                        <!-- form for city, state, and zip -->
                        <form class="form-inline row">
                            <div class="form-group col-md-12">
                                <div class="col-sm-4">
                                    <label for="cityInput" >City</label>
                                    <input class="form-control" type="text" placeholder="Enter City" ng-model="crntStudent.city">
                                </div>
                                <div class="col-sm-4">
                                    <label for="stateInput">State</label>
                                    <input class="form-control" type="text" placeholder="Enter State" ng-model="crntStudent.state">
                                </div>
                                <div class="col-sm-3">
                                    <label for="zipInput">Zip</label>
                                    <input class="form-control" type="text" placeholder="Enter Zip" ng-model="crntStudent.zip">
                                </div>
                            </div>
                        </form>

                        <br>

                        <!-- Dropdown select for year -->
                        <form class="row">
                            <div class="form-group col-md-8">
                                <label for="selectYearInput">Student Year</label>
                                <select class="form-control" id="selectYearInput">
                                    <option ng-repeat="x in studentYearEnum">{{x}}</option>
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="confirmChanges()">Confirm</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="showEditModal = false">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Modal -->

        <!-- Confirmation Modal -->
        <div class="modal fade" id="confirmationModal" role="dialog">
            <div class="modal-dialog modal-sm">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title" id="modalTitle"></h4>
                    </div>
                    <div class="modal-body" id="modalBody">

                        <p id="modalText">Student Data</p>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default confirmation" data-dismiss="modal">Confirm</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- End of Modal -->

        <div class="container">
            <h2 class="jumbotron">Student Information</h2>
        </div>

        <div class="container">

            <!-- Buttons Row -->
            <div class="row">
                <div class="col-xs-4 text-left">
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Restore last deleted student"><span class="glyphicon glyphicon-refresh"></button>
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Add a new student"><span class="glyphicon glyphicon-plus"></button>
                </div>

                <div class="col-xs-4 text-center">
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Page Left" ng-click="pageChange(-1)"><span class="glyphicon glyphicon-chevron-left"></button>
                    <button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Page Right" ng-click="pageChange(1)"><span class="glyphicon glyphicon-chevron-right"></button>
                </div>

                <div class="col-xs-4 text-right">
                    <button type="button" class="btn btn-default" id="tileBtn" data-toggle="tooltip" data-placement="bottom" title="Switch to the Tile Veiw">Tiles</button>
                    <button type="button" class="btn btn-default" id="tableBtn" data-toggle="tooltip" data-placement="bottom" title="Switch to the Table Veiw">Table</button>
                </div>
            </div>
            <br>

            <table class="table table-striped table-bordered" id="table">
                <thead>
                    <tr>
                        <th class="sort" id="{{x}}" ng-repeat="x in textEnum">{{x}}</th>
                    </tr>
                </thead>
                <tbody id="tableArea">
                    <tr ng-repeat="student in students">
                        <!--| filter : { Id: '!' + x.fname}-->
                        <!--ng-repeat="(key,value) in x"-->
                        <td>{{student.fname + ' ' + student.lname}}</td>
                        <td>{{student.startDate}}</td>
                        <td>{{student.street}}</td>
                        <td>{{student.city}}</td>
                        <td>{{student.state}}</td>
                        <td>{{student.zip}}</td>
                        <td>{{student.phone}}</td>
                        <td>{{student.year}}</td>
                        <td>{{student.id}}</td>
                        <td>
                            <button type="button" class="btn btn-default btn-sm editStudent" id="{{student.id}}" data-toggle="tooltip" data-placement="bottom" title="Edit this student" ng-click="editStudent('0001')"><span class="glyphicon glyphicon-pencil"></button>
                            <button type="button" class="btn btn-default btn-sm deleteStudent" id="{{student.id}}" data-toggle="tooltip" data-placement="bottom" title="Delete this student"><span class="glyphicon glyphicon-trash"></button>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div id="tileArea"></div>

        </div>
    </div>

    <!-- jQuery -->
    <script src="lib/jquery-1.12.4.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="lib/bootstrap-3.3.6.min.js"></script>

    <!-- load my scripts -->
    <!--<script src="myScript.js"></script>-->
    <!--<script src="sortComparators.js"></script>-->
    <!--<script src="lib/cookie-2.1.2.js"></script>-->

    <script src="MyCtrl.js"></script>
</body>

</html>